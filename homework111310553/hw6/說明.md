# 程式幾何運算與數學原理說明

本文件詳細說明程式背後處理幾何圖形、空間變換與交點運算的數學基礎。

---

## 1. 幾何表示法 (Geometric Representation)

### 直線方程式：一般式 (General Form)
程式中統一採用 **一般式** 來表示直線，而非傳統的斜截式 ($y = mx + k$)：
$$ax + by + c = 0$$

* **優點**：能夠表示所有的直線，包括**垂直線**（當 $b = 0$ 時，斜截式會因斜率無限大而失效）。
* **特性**：此表示法在計算幾何中更為穩定，方便處理各類邊界狀況。

---

## 2. 交點運算 (Intersection Calculus)

### 兩線交點
求兩直線交點實質上是求解一個**二元一次聯立方程組**。若兩直線不平行，則必有一組唯一解 $(x, y)$。

### 線圓交點
計算直線與圓 $(x-h)^2 + (y-k)^2 = r^2$ 的交點：
1. 將直線方程式代入圓方程式中。
2. 展開並整理成關於 $x$ 或 $y$ 的**一元二次方程式**。
3. 利用**判別式 (Discriminant)** $D = b^2 - 4ac$ 判斷交點數量：
    * $D > 0$：相交於兩點。
    * $D = 0$：相切於一點。
    * $D < 0$：無交點。



---

## 3. 空間變換 (Transformations)

程式中的 `transform_point` 實作了仿射變換的邏輯：

### 縮放 (Scaling)
改變點相對於原點的距離：
$$x' = x \cdot s, \quad y' = y \cdot s$$

### 旋轉 (Rotation)
使用**旋轉矩陣**將點繞原點旋轉 $\theta$ 角度：
$$\begin{bmatrix} x' \\ y' \end{bmatrix} = \begin{bmatrix} \cos\theta & -\sin\theta \\ \sin\theta & \cos\theta \end{bmatrix} \begin{bmatrix} x \\ y \end{bmatrix}$$



### 平移 (Translation)
將點沿著向量 $(dx, dy)$ 進行位移：
$$x' = x + dx, \quad y' = y + dy$$

---

## 4. 垂直性質與距離計算

### 垂直關係 (Perpendicularity)
* **斜率關係**：若兩線垂直，其斜率乘積 $m_1 \cdot m_2 = -1$。
* **向量關係**：對於一般式 $ax + by + c = 0$，其法向量為 $(a, b)$，對應的垂直向量（方向向量）則為 $(b, -a)$。

### 畢氏定理與距離 (Pythagorean Theorem)
驗證在直角座標系中，兩點 $P_1(x_1, y_1)$ 與 $P_2(x_2, y_2)$ 的距離公式：
$$d = \sqrt{(x_2-x_1)^2 + (y_2-y_1)^2}$$
此公式完美符合畢氏定理 $a^2 + b^2 = c^2$，其中 $a$ 與 $b$ 分別為 $x$ 與 $y$ 軸上的座標差。
